{% with financial_reports=project.financialreport_set.all %}
    <table id="financial_reports_table" class="table table-striped table-sm table-hover display">
        <thead>
        <tr>
            <th>Due</th>
            <th>Received</th>
            <th>Sent for signing</th>
            <th>Approval date</th>
            <th>Approved by</th>
            <th>File</th>
        </tr>
        </thead>
        {% for financial_report in financial_reports %}
            <tr>
                <td data-sort="{{ financial_report.due_date|date:"Y-m-d" }}">{% include 'common/_date-or-dash.tmpl' with date=financial_report.due_date %}</td>
                <td data-sort="{{ financial_report.reception_date|date:"Y-m-d" }}">{% include 'common/_date-or-dash.tmpl' with date=financial_report.reception_date %}</td>
                <td data-sort="{{ financial_report.sent_date|date:"Y-m-d" }}">{% include 'common/_date-or-dash.tmpl' with date=financial_report.sent_date %}</td>
                <td data-sort="{{ financial_report.approval_date|date:"Y-m-d" }}">{% include 'common/_date-or-dash.tmpl' with date=financial_report.approval_date %}</td>
                <td data-sort="{{ financial_report.approved_by }}">{% include 'common/_value-or-dash.tmpl' with value=financial_report.approved_by %}</td>
                <td>{% include 'common/_file_to_download.tmpl' with file_field=financial_report.file %}</td>
            </tr>
        {% endfor %}
    </table>

    <script type="text/javascript" class="init">
        $(document).ready(function () {
            $('#financial_reports_table').DataTable({
                    "pageLength": 100,
                    "order": [[1, "asc"]],
                    "bFilter": false,
                    "bPaginate": false,
                    "info": false,
                    "language": {
                        "zeroRecords": "No financial reports have been created"
                    }
                }
            );
        });
    </script>
{% endwith %}